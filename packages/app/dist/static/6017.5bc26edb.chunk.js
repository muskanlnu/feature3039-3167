"use strict";(()=>{(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6017],{16017:(H,S,n)=>{n.r(S),n.d(S,{ApiExplorerIndexPage:()=>K,DefaultApiExplorerPage:()=>L});var i=n(14041),p=n(18690),r=n(22968),h=n(48821),y=n(11638),u=n(58907),m=n(92651),W=n(33861),I=n(17899),B=n(99993);const D=[u.C.columns.createTitleColumn({hidden:!0}),u.C.columns.createNameColumn({defaultKind:"API"}),u.C.columns.createSystemColumn(),u.C.columns.createOwnerColumn(),u.C.columns.createSpecTypeColumn(),u.C.columns.createSpecLifecycleColumn(),u.C.columns.createMetadataDescriptionColumn(),u.C.columns.createTagsColumn()],L=R=>{var b;const{initiallySelectedFilter:w="all",columns:t,actions:z}=R,s=`${(b=(0,h.u)(h.p).getOptionalString("organization.name"))!=null?b:"Backstage"} API Explorer`,O=(0,y.Sf)(W.b),{allowed:M}=(0,I.JT)({permission:B.C4});return i.createElement(r.dT,{themeId:"apis",title:"APIs",subtitle:s,pageTitleOverride:"APIs"},i.createElement(r.UC,null,i.createElement(r.dv,{title:""},M&&i.createElement(r.ly,{title:"Register Existing API",to:O==null?void 0:O()}),i.createElement(r.Yl,null,"All your APIs")),i.createElement(m.B9,null,i.createElement(m.GI,null,i.createElement(m.GI.Filters,null,i.createElement(m.mb,{initialFilter:"api",hidden:!0}),i.createElement(m.QD,null),i.createElement(m.y2,{initialFilter:w}),i.createElement(m.t3,null),i.createElement(m.WI,null),i.createElement(m.mo,null)),i.createElement(m.GI.Content,null,i.createElement(u.C,{columns:t||D,actions:z}))))))},K=R=>(0,p.P1)()||i.createElement(L,{...R})},58907:(H,S,n)=>{n.d(S,{C:()=>j});var i=n(29835),p=n(22968),r=n(92651),h=n(2069),y=n(72501),u=n(58837),m=n(7031);const I={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};var B=n(75625),D=n(39330),L=n(80109),K=n(15303),R=n(45250),b=n(65398),w=n.n(b),t=n(14041),z=n(67720),G=n(75173);const s=Object.freeze({createNameColumn(e){function l(a){var o;return((o=a.metadata)==null?void 0:o.title)||(0,r.SE)(a,{defaultKind:e==null?void 0:e.defaultKind})}return{title:"Name",field:"resolved.entityRef",highlight:!0,customSort({entity:a},{entity:o}){return l(a).localeCompare(l(o))},render:({entity:a})=>t.createElement(r.zI,{entityRef:a,defaultKind:(e==null?void 0:e.defaultKind)||"Component"})}},createSystemColumn(){return{title:"System",field:"resolved.partOfSystemRelationTitle",render:({resolved:e})=>t.createElement(r.iI,{entityRefs:e.partOfSystemRelations,defaultKind:"system"})}},createOwnerColumn(){return{title:"Owner",field:"resolved.ownedByRelationsTitle",render:({resolved:e})=>t.createElement(r.iI,{entityRefs:e.ownedByRelations,defaultKind:"group"})}},createSpecTargetsColumn(){return{title:"Targets",field:"entity.spec.targets",customFilterAndSearch:(e,l)=>{var a,o,d,c,g,f,T,F,N,x;let A=[];return(o=(a=l.entity)==null?void 0:a.spec)!=null&&o.targets&&Array.isArray((c=(d=l.entity)==null?void 0:d.spec)==null?void 0:c.targets)?A=(f=(g=l.entity)==null?void 0:g.spec)==null?void 0:f.targets:(F=(T=l.entity)==null?void 0:T.spec)!=null&&F.target&&(A=[(x=(N=l.entity)==null?void 0:N.spec)==null?void 0:x.target]),A.join(", ").toLocaleUpperCase("en-US").includes(e.toLocaleUpperCase("en-US"))},render:({entity:e})=>{var l,a;return t.createElement(t.Fragment,null,(((l=e==null?void 0:e.spec)==null?void 0:l.targets)||((a=e==null?void 0:e.spec)==null?void 0:a.target))&&t.createElement(p.Mm,{text:(e.spec.targets||[e.spec.target]).join(", "),placement:"bottom-start"}))}}},createSpecTypeColumn(e={hidden:!1}){return{title:"Type",field:"entity.spec.type",hidden:e.hidden,width:"auto"}},createSpecLifecycleColumn(){return{title:"Lifecycle",field:"entity.spec.lifecycle"}},createMetadataDescriptionColumn(){return{title:"Description",field:"entity.metadata.description",render:({entity:e})=>t.createElement(p.Mm,{text:e.metadata.description,placement:"bottom-start"}),width:"auto"}},createTagsColumn(){return{title:"Tags",field:"entity.metadata.tags",cellStyle:{padding:"0px 16px 0px 20px"},render:({entity:e})=>t.createElement(t.Fragment,null,e.metadata.tags&&e.metadata.tags.map(l=>t.createElement(z.A,{key:l,label:l,size:"small",variant:"outlined",style:{marginBottom:"0px"}}))),width:"auto"}},createTitleColumn(e){return{title:"Title",field:"entity.metadata.title",hidden:e==null?void 0:e.hidden,searchable:!0}},createLabelColumn(e,l){return{title:(l==null?void 0:l.title)||"Label",field:"entity.metadata.labels",cellStyle:{padding:"0px 16px 0px 20px"},render:({entity:a})=>{var o;const d=(o=a.metadata)==null?void 0:o.labels,c=d&&d[e]||(l==null?void 0:l.defaultValue);return t.createElement(t.Fragment,null,c&&t.createElement(z.A,{key:c,label:c,size:"small",variant:"outlined"}))},width:"auto"}},createNamespaceColumn(){return{title:"Namespace",field:"entity.metadata.namespace",width:"auto"}}}),O=(0,u.A)(e=>({root:{paddingTop:e.spacing(1.25),paddingLeft:e.spacing(2.5),paddingBottom:e.spacing(.75),display:"flex",justifyContent:"space-between"},text:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}}),{name:"BackstageTableToolbar"});function M(e){const l=O();return t.createElement(G.A,{className:l.root},t.createElement(y.A,{variant:"h5",className:l.text},e.title),t.createElement(r.lD,null))}function te(e){const{columns:l,data:a,next:o,prev:d,title:c,isLoading:g,options:f}=e;return t.createElement(p.XI,{title:g?"":c,columns:l,data:a,options:{...f,paginationPosition:"both",pageSizeOptions:[],showFirstLastPageButtons:!1,pageSize:Number.MAX_SAFE_INTEGER,emptyRowsWhenPaging:!1},onPageChange:T=>{T>0?o==null||o():d==null||d()},components:{Toolbar:M},page:d?1:0,totalCount:o?Number.MAX_VALUE:Number.MAX_SAFE_INTEGER,localization:{pagination:{labelDisplayedRows:""}}})}const X=({filters:e,entities:l})=>{var a;const o=e.type===void 0;return[s.createTitleColumn({hidden:!0}),s.createNameColumn({defaultKind:(a=e.kind)==null?void 0:a.value}),...d(),s.createMetadataDescriptionColumn(),s.createTagsColumn()];function d(){var c;const g=[s.createSystemColumn(),s.createOwnerColumn(),s.createSpecTypeColumn({hidden:!o}),s.createSpecLifecycleColumn()];switch((c=e.kind)==null?void 0:c.value){case"user":return[];case"domain":case"system":return[s.createOwnerColumn()];case"group":case"template":return[s.createSpecTypeColumn({hidden:!o})];case"location":return[s.createSpecTypeColumn({hidden:!o}),s.createSpecTargetsColumn()];default:return l.every(f=>f.metadata.namespace==="default")?g:[...g,s.createNamespaceColumn()]}}},ne=(0,m.A)({root:{color:"#f3ba37"}})(L.A),le=(e,l)=>{const a=o=>o.metadata.title||(0,r.SE)(o,{defaultKind:"Component"});return a(e).localeCompare(a(l))},j=e=>{var l,a,o,d;const{columns:c=X,tableOptions:g,subtitle:f,emptyContent:T}=e,{isStarredEntity:F,toggleStarredEntity:N}=(0,r.IT)(),x=(0,r.nK)(),{loading:A,error:$,entities:Q,filters:U,pageInfo:V,totalItems:ae}=x,oe=!!V,Z=(0,t.useMemo)(()=>typeof c=="function"?c(x):c,[c,x]);if($)return t.createElement("div",null,t.createElement(p.Bp,{severity:"error",title:"Could not fetch catalog entities."},t.createElement(p.z7,{language:"text",text:$.toString()})));const ie=[({entity:C})=>{var E;const v=(E=C.metadata.annotations)==null?void 0:E[i._P],P="View";return{icon:()=>t.createElement(t.Fragment,null,t.createElement(y.A,{style:I},P),t.createElement(D.A,{fontSize:"small"})),tooltip:P,disabled:!v,onClick:()=>{v&&window.open(v,"_blank")}}},({entity:C})=>{var E;const v=(E=C.metadata.annotations)==null?void 0:E[i.P],P="Edit";return{icon:()=>t.createElement(t.Fragment,null,t.createElement(y.A,{style:I},P),t.createElement(B.A,{fontSize:"small"})),tooltip:P,disabled:!v,onClick:()=>{v&&window.open(v,"_blank")}}},({entity:C})=>{const E=F(C),v=E?"Remove from favorites":"Add to favorites";return{cellStyle:{paddingLeft:"1em"},icon:()=>t.createElement(t.Fragment,null,t.createElement(y.A,{style:I},v),E?t.createElement(ne,null):t.createElement(K.A,null)),tooltip:v,onClick:()=>N(C)}}],re=((l=U.kind)==null?void 0:l.value)||"",se=((a=U.type)==null?void 0:a.value)||"",J=[(0,R.capitalize)((d=(o=U.user)==null?void 0:o.value)!=null?d:"all"),se,w()(re)].filter(C=>C).join(" "),ce=`${J} (${ae})`,k=e.actions||ie,q={actionsColumnIndex:-1,loadingType:"linear",showEmptyDataSourceMessage:!A,padding:"dense",...g};if(oe)return t.createElement(te,{columns:Z,emptyContent:T,isLoading:A,title:J,actions:k,subtitle:f,options:q,data:Q.map(Y),next:V.next,prev:V.prev});const _=Q.sort(le).map(Y),ee=20,de=_.length>ee;return t.createElement(p.XI,{isLoading:A,columns:Z,options:{paging:de,pageSize:ee,pageSizeOptions:[20,50,100],...q},title:ce,data:_,actions:k,subtitle:f,emptyContent:T})};j.columns=s,j.defaultColumnsFunc=X;function Y(e){const l=(0,h.g)(e,i.jn,{kind:"system"}),a=(0,h.g)(e,i.vv);return{entity:e,resolved:{name:(0,r.SE)(e,{defaultKind:"Component"}),entityRef:(0,i.U2)(e),ownedByRelationsTitle:a.map(o=>(0,r.SE)(o,{defaultKind:"group"})).join(", "),ownedByRelations:a,partOfSystemRelationTitle:l.map(o=>(0,r.SE)(o,{defaultKind:"system"})).join(", "),partOfSystemRelations:l}}}},39330:(H,S,n)=>{var i,p=n(4293),r=n(78920);i={value:!0},S.A=void 0;var h=r(n(14041)),y=p(n(74044)),u=(0,y.default)(h.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"OpenInNew");S.A=u}}]);})();

//# sourceMappingURL=6017.5bc26edb.chunk.js.map